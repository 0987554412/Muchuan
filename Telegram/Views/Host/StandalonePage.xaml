<Page x:Class="Telegram.Views.Host.StandalonePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:Telegram.Views.Host"
      xmlns:controls="using:Telegram.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
      muxc:BackdropMaterial.ApplyToRootOrPageBackground="True"
      mc:Ignorable="d"
      Loaded="OnLoaded"
      Unloaded="OnUnloaded"
      ProcessKeyboardAccelerators="OnProcessKeyboardAccelerators">

    <Grid x:Name="LayoutRoot">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid x:Name="TitleBarrr"
              Height="40"
              Margin="12,0,0,0"
              Background="Transparent"
              Grid.Column="1"
              Canvas.ZIndex="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Border x:Name="TitleBarHandle"
                    Background="Transparent"
                    Grid.Column="2" />

            <muxc:ProgressBar x:Name="State"
                              VerticalAlignment="Top"
                              Background="Transparent"
                              IsHitTestVisible="False"
                              Grid.ColumnSpan="5" />

            <HyperlinkButton x:Name="TitleBarLogo"
                             Style="{StaticResource EmptyHyperlinkButtonStyle}"
                             IsTabStop="False"
                             Margin="-10,0,4,0"
                             Width="40"
                             Height="40"
                             Grid.Column="1">
                <Grid Background="Transparent">
                    <Border x:Name="LogoBasic"
                            Width="16"
                            Height="16"
                            CornerRadius="8">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="3.55556,2.66667"
                                                 EndPoint="15.1111,13.3333"
                                                 MappingMode="Absolute">
                                <LinearGradientBrush.GradientStops>
                                    <GradientStopCollection>
                                        <GradientStop Color="#29C3FF" />
                                        <GradientStop Offset="1"
                                                      Color="#2052CB" />
                                    </GradientStopCollection>
                                </LinearGradientBrush.GradientStops>
                            </LinearGradientBrush>
                        </Border.Background>
                        <Path Data="M3.49584 7.96848C5.90101 6.92982 7.50484 6.24506 8.30732 5.91422C10.5986 4.96961 11.0747 4.80552 11.385 4.80011C11.4532 4.79891 11.6058 4.81568 11.7047 4.89518C11.7881 4.96232 11.8111 5.053 11.8221 5.11665C11.8331 5.1803 11.8468 5.32529 11.8359 5.43858C11.7117 6.73168 11.1745 9.86969 10.9012 11.318C10.7855 11.9308 10.5578 12.1363 10.3373 12.1564C9.8582 12.2001 9.49438 11.8426 9.03033 11.541C8.30418 11.0692 7.89395 10.7755 7.1891 10.3151C6.37452 9.78308 6.90258 9.49064 7.3668 9.01273C7.48829 8.88765 9.59931 6.98444 9.64016 6.81179C9.64527 6.7902 9.65002 6.70971 9.60178 6.66721C9.55353 6.62471 9.48233 6.63924 9.43095 6.6508C9.35812 6.66718 8.19809 7.42716 5.95086 8.93075C5.62159 9.15486 5.32335 9.26405 5.05613 9.25833C4.76155 9.25202 4.19489 9.09323 3.77363 8.95751C3.25695 8.79103 2.84629 8.70302 2.88205 8.42029C2.90068 8.27303 3.10527 8.12243 3.49584 7.96848Z"
                              Fill="#FFFFFF" />
                    </Border>

                    <Canvas x:Name="LogoPremium"
                            Visibility="Collapsed"
                            Width="16"
                            Height="16"
                            Margin="0,-2,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                        <Path Data="M7.6,13.2L4,15.4c-0.4,0.2-0.9,0.1-1.1-0.3c-0.1-0.2-0.1-0.4-0.1-0.6l0.6-2.2c0.2-0.8,0.7-1.4,1.5-1.8l3.9-1.9 C8.9,8.7,9,8.4,8.9,8.3C8.9,8.1,8.7,8,8.5,8.1L4.2,8.8C3.3,9,2.4,8.7,1.7,8.1L0.3,7c-0.3-0.3-0.4-0.8-0.1-1.1 c0.1-0.2,0.3-0.3,0.5-0.3L5,5.3c0.3,0,0.6-0.2,0.7-0.5l1.6-3.9c0.2-0.4,0.6-0.6,1-0.4c0.2,0.1,0.3,0.2,0.4,0.4l1.6,3.9 c0.1,0.3,0.4,0.5,0.7,0.5l4.2,0.3C15.7,5.7,16,6,16,6.5c0,0.2-0.1,0.4-0.3,0.5l-3.2,2.7c-0.2,0.2-0.3,0.5-0.3,0.8l1,4.1 c0.1,0.4-0.2,0.8-0.6,0.9c-0.2,0-0.4,0-0.6-0.1l-3.6-2.2C8.1,13.1,7.8,13.1,7.6,13.2z"
                              Style="{StaticResource PremiumStar}" />
                    </Canvas>

                    <controls:CustomEmojiIcon x:Name="LogoEmoji"
                                              x:Load="False"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                </Grid>
            </HyperlinkButton>

            <TextBlock x:Name="StateLabel"
                       VerticalAlignment="Center"
                       TextLineBounds="TrimToCapHeight"
                       TextWrapping="NoWrap"
                       AutomationProperties.LiveSetting="Assertive"
                       Foreground="{ThemeResource PageHeaderForegroundBrush}"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       IsHitTestVisible="False"
                       Margin="0,2,6,0"
                       Grid.Column="2" />
        </Grid>

        <controls:MasterDetailView x:Name="MasterDetail"
                                   Grid.Row="2" />
    </Grid>
</Page>
